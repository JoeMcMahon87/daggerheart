<div>
    <header class="flexcol">
        <div class="title-container">
            <img class="flex0" src="{{source.img}}" data-edit="img" data-action="onEditImage" title="{{source.name}}" height="64" width="64"/>
            <div class="title-name">
                {{formInput fields.name value=source.name rootId=partId}}
            </div>
        </div>
        <nav class="sheet-tabs tabs">
            {{#each tabs as |tab|}}
                <a class="{{tab.cssClass}}" data-action="tab" data-group="{{tab.group}}" data-tab="{{tab.id}}">
                    <i class="{{tab.icon}}"></i>
                    <label>{{localize tab.label}}</label>
                </a>
            {{/each}}
        </nav>
    </header>
    <div class="sheet-body">
        <div class="tab {{this.tabs.general.cssClass}}" data-group="primary" data-tab="general">
            {{formField systemFields.spellcastingTrait value=source.system.spellcastingTrait label=(localize "DAGGERHEART.Sheets.Subclass.SpellcastingTrait") localize=true}}
            {{!-- <div class="form-group">
                <label>{{localize "DAGGERHEART.Sheets.Subclass.SpellcastingTrait"}}</label>
                <div class="form-fields">
                    <select name="system.spellcastingTrait">
                        {{selectOptions config.ACTOR.abilities selected=item.system.spellcastingTrait labelAttr="name" localize=true blank="" }}
                    </select>
                </div>
            </div> --}}
            <div class="editor-form-group">
                <label>{{localize "DAGGERHEART.Sheets.Subclass.Description"}}</label>
                {{formInput systemFields.description value=source.system.description enriched=source.system.description localize=true toggled=true}}
                {{!-- {{editor item.system.description target="system.description" button=true}} --}}
            </div>
        </div>
        <div class="tab foundation-tab {{this.tabs.foundation.cssClass}}" data-group="primary" data-tab="foundation">
            {{> "systems/daggerheart/templates/sheets/parts/subclassFeature.hbs" field=systemFields.foundationFeature.fields feature=source.system.foundationFeature featureType="foundation" }}
        </div>
        <div class="tab specialization-tab {{this.tabs.specialization.cssClass}}" data-group="primary" data-tab="specialization">
            {{> "systems/daggerheart/templates/sheets/parts/subclassFeature.hbs" field=systemFields.specializationFeature.fields feature=source.system.specializationFeature featureType="specialization" }}
        </div>
        <div class="tab mastery-tab {{this.tabs.mastery.cssClass}}" data-group="primary" data-tab="mastery">
            {{> "systems/daggerheart/templates/sheets/parts/subclassFeature.hbs" field=systemFields.masteryFeature.fields feature=source.system.masteryFeature featureType="mastery" }}
        </div>
    </div> 
</div> 